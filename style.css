:root{
  --bg0:#060a14;
  --bg1:#0b1222;
  --card:rgba(255,255,255,.06);
  --stroke:rgba(255,255,255,.14);
  --text:rgba(255,255,255,.92);
  --muted:rgba(255,255,255,.62);
  --muted2:rgba(255,255,255,.40);

  --ok:#3ddc97;
  --ok2:#19c37d;
  --err:#ffb4b4;

  --radius:20px;
}

*{box-sizing:border-box}

body{
  margin:0;
  min-height:100vh;
  display:grid;
  place-items:center;
  color:var(--text);
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;
  background:
    radial-gradient(900px 600px at 50% 20%, #1a2b54 0%, var(--bg1) 55%, var(--bg0) 100%);
  overflow:hidden;
}

/* ---- Stars background (2 layers) ---- */
.stars, .stars2{
  position:fixed;
  inset:-200px;
  pointer-events:none;
  background-repeat:repeat;
  opacity:.55;
  transform: translateZ(0);
}
.stars{
  background-image:
    radial-gradient(2px 2px at 20px 30px, rgba(255,255,255,.65) 50%, transparent 51%),
    radial-gradient(1px 1px at 160px 90px, rgba(255,255,255,.55) 50%, transparent 51%),
    radial-gradient(1px 1px at 280px 210px, rgba(255,255,255,.45) 50%, transparent 51%),
    radial-gradient(2px 2px at 420px 150px, rgba(255,255,255,.50) 50%, transparent 51%),
    radial-gradient(1px 1px at 520px 260px, rgba(255,255,255,.40) 50%, transparent 51%);
  background-size: 600px 340px;
  filter: blur(.2px);
  animation: drift 30s linear infinite;
}
.stars2{
  opacity:.35;
  background-image:
    radial-gradient(1px 1px at 40px 60px, rgba(255,255,255,.45) 50%, transparent 51%),
    radial-gradient(1px 1px at 140px 200px, rgba(255,255,255,.35) 50%, transparent 51%),
    radial-gradient(2px 2px at 360px 260px, rgba(255,255,255,.40) 50%, transparent 51%),
    radial-gradient(1px 1px at 520px 120px, rgba(255,255,255,.35) 50%, transparent 51%);
  background-size: 640px 420px;
  animation: drift2 55s linear infinite;
}
@keyframes drift{ from{transform:translate(-40px,-30px)} to{transform:translate(40px,30px)} }
@keyframes drift2{ from{transform:translate(30px,-20px)} to{transform:translate(-30px,20px)} }

/* ---- Card ---- */
.card{
  width:min(440px, 92vw);
  padding:16px;
  border:1px solid var(--stroke);
  border-radius:var(--radius);
  background: linear-gradient(180deg, rgba(255,255,255,.07), rgba(255,255,255,.05));
  box-shadow: 0 24px 60px rgba(0,0,0,.45);
  backdrop-filter: blur(10px);
}

.header{ margin-bottom:10px; }
.title{
  font-size:22px;
  font-weight:900;
  display:flex;
  align-items:baseline;
  gap:10px;
}
.ver{
  font-size:12px;
  font-weight:800;
  color:var(--muted);
  padding:3px 8px;
  border:1px solid rgba(255,255,255,.12);
  border-radius:999px;
}
.sub{
  margin-top:6px;
  color:var(--muted);
  font-size:13px;
  line-height:1.35;
}

/* ---- Compass ---- */
.compass{
  width:310px;
  height:310px;
  margin:12px auto 14px;
  border-radius:50%;
  border:1px solid rgba(255,255,255,.16);
  position:relative;
  overflow:hidden;
  background:
    radial-gradient(circle at 50% 45%, rgba(255,255,255,.10), rgba(255,255,255,.03));
  transition: box-shadow .25s ease, border-color .25s ease;
}

/* Glow when aligned */
.compass.aligned{
  border-color: rgba(61,220,151,.55);
  box-shadow:
    0 0 0 1px rgba(61,220,151,.20) inset,
    0 0 24px rgba(61,220,151,.40),
    0 0 60px rgba(61,220,151,.20);
}
.compass.aligned::after{
  content:"";
  position:absolute;
  inset:-30px;
  background: radial-gradient(circle at 50% 50%,
    rgba(61,220,151,.22) 0%,
    rgba(61,220,151,.12) 35%,
    rgba(61,220,151,0) 65%);
  pointer-events:none;
}

.dial{
  position:absolute;
  inset:12px;
  border-radius:50%;
  border:1px solid rgba(255,255,255,.10);
  transform:rotate(0deg);
  will-change:transform;
}

/* Decorative ticks layer that rotates with dial */
.ticks{
  position:absolute;
  inset:0;
  border-radius:50%;
  background:
    /* major ticks */
    repeating-conic-gradient(
      from 0deg,
      rgba(255,255,255,.22) 0deg 1deg,
      transparent 1deg 15deg
    ),
    /* minor ticks */
    repeating-conic-gradient(
      from 0deg,
      rgba(255,255,255,.10) 0deg .6deg,
      transparent .6deg 6deg
    );
  -webkit-mask: radial-gradient(circle, transparent 0 58%, #000 59% 100%);
          mask: radial-gradient(circle, transparent 0 58%, #000 59% 100%);
  opacity:.85;
}

/* Cardinal letters */
.mark{
  position:absolute;
  font-weight:900;
  font-size:20px;
  color:rgba(255,255,255,.92);
  text-shadow: 0 10px 18px rgba(0,0,0,.35);
}
.n{top:10px;left:50%;transform:translateX(-50%)}
.s{bottom:10px;left:50%;transform:translateX(-50%)}
.e{right:12px;top:50%;transform:translateY(-50%)}
.w{left:12px;top:50%;transform:translateY(-50%)}

/* Pointer (fixed) and Qibla marker must be same radius */
.northPointer,
.qiblaMark{
  position:absolute;
  left:50%;
  top:50%;
  width:0;height:0;
  transform:translate(-50%,-50%) rotate(0deg);
  will-change:transform;
}

/* fixed white pointer */
.northPointer::before{
  content:"";
  position:absolute;
  left:50%;
  top:50%;
  transform: translate(-50%, -132px);
  width:0;height:0;
  border-left:10px solid transparent;
  border-right:10px solid transparent;
  border-bottom:20px solid rgba(255,255,255,.92);
  filter: drop-shadow(0 10px 12px rgba(0,0,0,.35));
}

/* green qibla marker (same radius!) */
.qiblaMark::before{
  content:"";
  position:absolute;
  left:50%;
  top:50%;
  transform: translate(-50%, -132px);
  width:0;height:0;
  border-left:10px solid transparent;
  border-right:10px solid transparent;
  border-bottom:20px solid rgba(61,220,151,.95);
  filter: drop-shadow(0 10px 12px rgba(0,0,0,.35));
}

/* Center dot */
.centerDot{
  position:absolute;
  left:50%;
  top:50%;
  transform:translate(-50%,-50%);
  width:10px;height:10px;
  border-radius:50%;
  background:rgba(255,255,255,.92);
  box-shadow: 0 10px 18px rgba(0,0,0,.35);
}

/* Meta rows */
.meta{
  margin-top:2px;
  padding-top:8px;
}
.row{
  display:flex;
  justify-content:space-between;
  align-items:center;
  color:var(--muted);
  margin:6px 2px;
  font-variant-numeric:tabular-nums;
}

/* Hint text (no border) */
.hint{
  margin-top:10px;
  color: rgba(255,255,255,.86);
  font-size:14px;
  line-height:1.35;
  font-weight:700;
  text-align:center;
  text-shadow: 0 10px 18px rgba(0,0,0,.30);
}
.hint.good{
  color: var(--ok);
}

.err{
  margin-top:8px;
  min-height:18px;
  color:var(--err);
  font-size:13px;
  line-height:1.35;
  white-space:pre-line;
  text-align:center;
}

.btn{
  width:100%;
  margin-top:12px;
  padding:12px 14px;
  border-radius:14px;
  border:1px solid rgba(255,255,255,.14);
  background:rgba(255,255,255,.08);
  color:var(--text);
  font-weight:900;
  cursor:pointer;
}

.secondary{
  background:rgba(255,255,255,.05);
  font-weight:800;
}

.hidden{display:none}
